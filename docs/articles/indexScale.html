<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Comparing Index Scale on Structured vs. Noisy Data • spinebil</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="indexScale_files/libs/quarto-html/popper.min.js"></script><script src="indexScale_files/libs/quarto-html/tippy.umd.min.js"></script><link href="indexScale_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="indexScale_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Comparing Index Scale on Structured vs. Noisy Data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">spinebil</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/spinebil.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/indexMean.html">Simulate and Summarize Projection Pursuit Index (PPI) Means</a></li>
    <li><a class="dropdown-item" href="../articles/indexNoiseThreshold.html">Estimating a Noise Threshold for Projection–Pursuit Indices</a></li>
    <li><a class="dropdown-item" href="../articles/indexScale.html">Comparing Index Scale on Structured vs. Noisy Data</a></li>
    <li><a class="dropdown-item" href="../articles/ppiDiagnostics.html">spinebil: Core Diagnostics for Projection Pursuit Indices</a></li>
    <li><a class="dropdown-item" href="../articles/sampleSizeEffect.html">Sample-Size Effects for Projection Pursuit Indexes under Gaussian Noise</a></li>
    <li><a class="dropdown-item" href="../articles/utilsData.html">Generating Synthetic Structures and Noise</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Comparing Index Scale on Structured vs. Noisy Data</h1>

      <p class="author">Tina Rashid Jafari</p>



      <div class="d-none name"><code></code></div>
    </div>






    <section class="level2"><h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><code><a href="../reference/ppi_scale.html">ppi_scale()</a></code> runs simulations to compare a projection pursuit index (PPI) on:</p>
<ol type="1">
<li>Structured dataset (your input), and</li>
<li>Pure Gaussian noise (same sample size).</li>
</ol>
<p>For every pair of variables and across many simulations, it records the index values for both cases so you can see the scale and separation of the index between structure and noise.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">spinebil</span><span class="op">)</span> </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
</div>
</section><section class="level2"><h2 id="what-the-function-does">What the Function Does<a class="anchor" aria-label="anchor" href="#what-the-function-does"></a>
</h2>
<section class="level3"><h3 id="ppi_scaledata-index_fun-n_sim-100-n_obs-500-seed-null">
<code>ppi_scale(data, index_fun, n_sim = 100, n_obs = 500, seed = NULL)</code><a class="anchor" aria-label="anchor" href="#ppi_scaledata-index_fun-n_sim-100-n_obs-500-seed-null"></a>
</h3>
<ul>
<li><p><strong>Pairs:</strong> builds all 2D variable pairs from <code>data</code>.</p></li>
<li>
<p><strong>Simulations:</strong> for each simulation <code>1,...,n_sim</code> and each pair:</p>
<ol type="1">
<li>
<strong>Structured value (<code>sigma = 0</code>)</strong> — compute the index on the actual pair.</li>
<li>
<strong>Noise value (<code>sigma = 1</code>)</strong> — generate <code>n_obs</code> standard-normal <code>x</code>, <code>y</code>, scale to mean 0 / sd 1, compute the index.</li>
</ol>
</li>
<li><p><strong>Output:</strong> a tidy table with simulation id, variable pair, <code>sigma ∈ {0,1}</code>, and <code>index</code> value.</p></li>
</ul></section></section><section class="level2"><h2 id="function-usage">Function usage<a class="anchor" aria-label="anchor" href="#function-usage"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ppi_scale.html">ppi_scale</a></span><span class="op">(</span></span>
<span>  <span class="va">data</span>,        </span>
<span>  <span class="va">index_fun</span>, </span>
<span>  n_sim <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  n_obs <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>Arguments:</strong></p>
<ul>
<li>
<code>data</code> — data frame/tibble/matrix; (&gt;= 2 numeric columns).</li>
<li>
<code>index_fun</code> — function: takes a 2-column matrix and returns a numeric scalar (e.g., <code>scagIndex("stringy")</code>).</li>
<li>
<code>n_sim</code> — number of simulations.</li>
<li>
<code>n_obs</code> — number of observations.</li>
<li>
<code>seed</code> — optional seed for reproducibility.</li>
</ul></section><section class="level2"><h2 id="example-usage">Example usage<a class="anchor" aria-label="anchor" href="#example-usage"></a>
</h2>
<p>Let’s evaluate the <code>stringy</code> index from the <code>cassowaryr</code> package to see how the scale change for pure noise and structure.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ppi_scale.html">ppi_scale</a></span><span class="op">(</span><span class="fu"><a href="../reference/data_gen.html">data_gen</a></span><span class="op">(</span><span class="st">"polynomial"</span>, degree <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="../reference/scagIndex.html">scagIndex</a></span><span class="op">(</span><span class="st">"stringy"</span><span class="op">)</span>, n_sim <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   simulation var_i var_j var_pair sigma index</span></span>
<span><span class="co">#&gt;        &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1          1 1     2     1-2          0 1    </span></span>
<span><span class="co">#&gt; 2          1 1     2     1-2          1 0.739</span></span>
<span><span class="co">#&gt; 3          1 1     3     1-3          0 1    </span></span>
<span><span class="co">#&gt; 4          1 1     3     1-3          1 0.732</span></span>
<span><span class="co">#&gt; 5          1 2     3     2-3          0 0.996</span></span>
<span><span class="co">#&gt; 6          1 2     3     2-3          1 0.735</span></span></code></pre></div>
</div>
<p>Here <code>sigma = 0</code> is structured and <code>sigma = 1</code> is pure noise.</p>
<section class="level3"><h3 id="boxplots-structured-vs-noise-per-variable-pair">Boxplots: structured vs noise per variable pair<a class="anchor" aria-label="anchor" href="#boxplots-structured-vs-noise-per-variable-pair"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>sigma <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">sigma</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"structured"</span>,<span class="st">"noise"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">sigma</span>, y <span class="op">=</span> <span class="va">index</span>, fill <span class="op">=</span> <span class="va">sigma</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">var_pair</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Index scale on structured vs noisy data"</span>,</span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="st">"index"</span></span>
<span>  <span class="op">)</span> </span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="indexScale_files/figure-html/unnamed-chunk-3-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section></section><section class="level2"><h2 id="return-value">Return value<a class="anchor" aria-label="anchor" href="#return-value"></a>
</h2>
<p><code><a href="../reference/ppi_scale.html">ppi_scale()</a></code> returns a tibble with columns:</p>
<ul>
<li>
<code>simulation</code>: simulation index</li>
<li>
<code>var_i</code>, <code>var_j</code>: the two variable names</li>
<li>
<code>var_pair</code>: <code>"var_i-var_j"</code> compact label.</li>
<li>
<code>sigma</code>: <code>0 = structured</code>, <code>1 = noise</code>
</li>
<li>
<code>index</code>: the index value from <code>index_fun</code>
</li>
</ul></section><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config);
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ursula Laa, Dianne Cook, Tina Rashid Jafari.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
